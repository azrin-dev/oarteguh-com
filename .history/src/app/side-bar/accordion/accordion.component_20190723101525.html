<form [formGroup]="formProfile">

   <mat-accordion class="lm__accordion">
      <mat-expansion-panel #panelOpen [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
         <mat-expansion-panel-header class="mat-elevation-z8" ngClass="{ 'lm__text-primary': panelOpen.expanded }" fxLayout="row" fxLayoutAlign="space-between center">
            <mat-panel-title fxFlex="30">
               Personal Information 
            </mat-panel-title>
            <mat-panel-description fxFlex="70" fxLayout="row" fxLayoutAlign.gt-xs="space-between center" fxLayoutAlign.xs="end end">
               <span fxFlexAlign="start" fxHide.xs>Update your personal Information</span> 
               <mat-icon fxFlexAlign="end" [color]="panelOpen.expanded ? 'accent' : 'primary'">account_circle</mat-icon>
            </mat-panel-description>
         </mat-expansion-panel-header>
         <app-form-personal></app-form-personal>
         <mat-action-row>
            <button mat-button color="primary" (click)="nextStep()">Next</button>
         </mat-action-row>
      </mat-expansion-panel>
   </mat-accordion>

   <mat-accordion class="lm__accordion">
      <mat-expansion-panel #secondPanelOpen [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
         <mat-expansion-panel-header class="mat-elevation-z8" ngClass="{ 'lm__text-primary': secondPanelOpen.expanded }" fxLayout="row" fxLayoutAlign="space-between center">         
            <mat-panel-title fxFlex="30">
               Handphone setup
            </mat-panel-title>
            <mat-panel-description fxFlex="70" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutAlign.xs="end end">
               <span fxHide.xs>Setup and authenticate your handphone</span>
               <mat-icon [color]="secondPanelOpen.expanded ? 'accent' : 'primary'">contact_phone</mat-icon>
            </mat-panel-description>
         </mat-expansion-panel-header>
         <app-form-handphone></app-form-handphone>  
         <mat-action-row class="mat-elevation-z8">
            <button mat-button color="accent" (click)="prevStep()">Previous</button>
            <button mat-button color="primary" (click)="nextStep()">Next</button>
         </mat-action-row>
      </mat-expansion-panel>      
   </mat-accordion>   

   <mat-accordion class="lm__accordion">
      <mat-expansion-panel #thirdPanelOpen [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
         <mat-expansion-panel-header class="mat-elevation-z8" ngClass="{ 'lm__text-primary': thirdPanelOpen.expanded }" fxLayout="row" fxLayoutAlign="space-between center">         
            <mat-panel-title fxFlex="30">
               Personal Avatar
            </mat-panel-title>
            <mat-panel-description fxFlex="70" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutAlign.xs="end end">
               <span fxHide.xs>Choose an Avatar</span>
               <mat-icon [color]="thirdPanelOpen.expanded ? 'accent' : 'primary'">face</mat-icon>
            </mat-panel-description>
         </mat-expansion-panel-header>
         <app-form-avatar></app-form-avatar>  
         <mat-action-row>
            <button mat-button color="accent" (click)="prevStep()">Previous</button>
            <button mat-button color="primary" (click)="nextStep()">Next</button>
         </mat-action-row>
      </mat-expansion-panel>      
   </mat-accordion>

   <mat-accordion class="lm__accordion">
      <mat-expansion-panel #fourthPanelOpen [expanded]="step === 3" (opened)="setStep(3)" hideToggle>
         <mat-expansion-panel-header 
            class="mat-elevation-z8" ngClass="{'lm__text-primary': fourthPanelOpen.expanded }" fxLayout="row" fxLayoutAlign="space-between center">         
               <mat-panel-title fxFlex="30">
                  Address Information 
               </mat-panel-title fxFlex="70">
               <mat-panel-description fxLayout="row" fxLayoutAlign="space-between center" fxLayoutAlign.xs="end end">
                  <span fxHide.xs>Update your Address Information</span>
                  <mat-icon [color]="fourthPanelOpen.expanded ? 'accent' : 'primary'">contacts</mat-icon>
               </mat-panel-description>
         </mat-expansion-panel-header>
         <app-form-address></app-form-address>  
         <mat-action-row>
            <button mat-button color="accent" (click)="prevStep()">Previous</button>
         </mat-action-row>
      </mat-expansion-panel>
   </mat-accordion>   

</form>