<div class="lm__page-full" fxLayout="column" fxLayoutAlign="center center">
    <div class="lm__form-card" fxFlex="60" fxFlex.lt-md="100" *ngIf="useForm" fxLayout="column" fxLayoutAlign="center">

        <mat-card *ngIf="!contact">

            <app-main-logo></app-main-logo>

            <mat-card-title>
                Contact Form
            </mat-card-title>

            <mat-card-content>
                <form [formGroup]="contactForm">
                    <div fxLayout="column" fxLayoutAlign="center">

                        <mat-form-field appearance="fill" color="accent">
                            <mat-select placeholder="Select a department" formControlName="department">
                                <mat-option *ngFor="let dept of depts" value="{{ dept.value }}">
                                    {{ dept.option }}
                                </mat-option>
                            </mat-select>
                            <mat-hint>Ex: Sales & Marketing</mat-hint>
                        </mat-form-field>

                        <mat-form-field appearance="fill" color="accent">
                            <mat-label>Name</mat-label>
                            <input matInput placeholder="Enter Name" formControlName="name" required>
                            <mat-icon matSuffix color="accent">contacts</mat-icon>
                            <mat-hint>Ex: Severus Snape</mat-hint>
                            <mat-error *ngIf="name.invalid">
                                Name is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="fill" color="accent">
                            <mat-label>Phone No</mat-label>
                            <input matInput placeholder="Enter Phone No" formControlName="phone" type="number" required>
                            <mat-icon matSuffix color="accent">contact_phone</mat-icon>
                            <mat-hint>Ex: 60999999999</mat-hint>
                            <mat-error *ngIf="phone.invalid">
                                Phone no is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="fill" color="accent">
                            <mat-label>Email</mat-label>
                            <input matInput type="email" placeholder="Enter email" formControlName="email" required>
                            <mat-icon matSuffix color="accent">contact_mail</mat-icon>
                            <mat-hint>Ex: snape@hogwarts.com</mat-hint>
                            <mat-error *ngIf="email.invalid">
                                Email is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="fill" color="accent">
                            <textarea matInput formControlName="comment" placeholder="Leave a comment" required></textarea>
                            <mat-icon matSuffix color="accent">contact_mail</mat-icon>
                            <mat-error *ngIf="comment.invalid">
                                Comment is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>

                        <!-- Recaptcha  -->
                        <div id="html_element"></div>

                        <!-- Submit Button  -->
                        <div class="card__review-button" fxLayout fxLayoutAlign="center center">
                            <button mat-raised-button color="primary" type="submit" [disabled]="contactForm.invalid ? true : false" (click)="submitContact()">Submit Contact</button>
                        </div>

                    </div>
                </form>
            </mat-card-content>

        </mat-card>

        <div class="lm__contact-success" *ngIf="contact">
            <mat-card class="lm__contact-success-card">
                <mat-card-content>
                    <div class="lm__contact-success-content" fxLayout="column" fxLayoutAlign="center center">
                        <div class="lm__contact-success-title">Thank you!</div>
                        <div class="lm__contact-success-content">
                            Your request has been submitted, our local representative will contact you back as soon as possible.
                        </div>
                    </div>
                </mat-card-content>
                <mat-card-actions>
                    <button mat-raised-button routerLink="/">
                     Back to Home
                     <mat-icon>undo</mat-icon>
                  </button>
                </mat-card-actions>
            </mat-card>
        </div>

    </div>
</div>


<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>